
Integer solns to x^2 + y^2 = k

factorize in Gaussian field (x+yi)(x-iy) = k
and find divisors whose Norm(a) = integer

there is a formula for this in Dickson/Niven Zuckerman/intro number theory book
